

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>How to contribute &mdash; pycompwa  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Talks and Documents" href="documents.html" />
    <link rel="prev" title="FAQ" href="faq.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pycompwa
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#developer-mode">Developer mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-contribute-through-git">How to contribute through Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reporting-issues">Reporting Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="#continuous-integration-ci">Continuous Integration (CI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code-quality-conventions">Code Quality &amp; Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="documents.html">Talks and Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="theory.html">Theory</a></li>
</ul>

            
          
    <a href= "genindex.html">General Index</a>
    <a href= "py-modindex.html">Python Modules Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pycompwa</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>How to contribute</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/ComPWA/pycompwa/blob/master/doc/source/contribute.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-contribute">
<h1>How to contribute<a class="headerlink" href="#how-to-contribute" title="Permalink to this headline">¶</a></h1>
<div class="section" id="developer-mode">
<span id="developermode"></span><h2>Developer mode<a class="headerlink" href="#developer-mode" title="Permalink to this headline">¶</a></h2>
<p>If you want to develop new functionality for pycompwa, installing pycompwa as a Conda package will not suffice: you will have to <strong>build from source</strong>. In this ‘developer mode’, you still work in a Conda environment (see <a class="reference internal" href="installation.html#installation"><span class="std std-ref">Installation</span></a>), but now you install the pycompwa package from the cloned repository using <a class="reference external" href="https://docs.conda.io/projects/conda-build/en/latest/resources/commands/conda-develop.html">conda-develop</a>, so that any changes you make in the source code immediately have effect.</p>
<p>First, create a new Conda environment for pycompwa with the necessary packages:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda create --name compwa python jupyter pytest
</pre></div>
</div>
<p>Now, clone the pycompwa repository recursively to some suitable folder (you can omit the <code class="docutils literal notranslate"><span class="pre">&lt;PYCOMPWA_SOURCE_PATH&gt;</span></code>):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git clone --recurse-submodules git@github.com:ComPWA/pycompwa.git &lt;PYCOMPWA_SOURCE_PATH&gt;
</pre></div>
</div>
<p>Then, navigate into the cloned repository under <code class="docutils literal notranslate"><span class="pre">&lt;PYCOMPWA_SOURCE_PATH&gt;</span></code> and install the required Python packages:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip install -r requirements.txt
</pre></div>
</div>
<p>You can now build the pycompwa package from source:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mkdir -p build
<span class="nb">cd</span> build
cmake ..
make -j4
</pre></div>
</div>
<p>You will then need to set some symbolic links to the Python module of pycompwa:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> pycompwa
ln -s ../build/ui.*.so .
ln -s ../ComPWA/Physics/particle_list.xml .
</pre></div>
</div>
<p>Finally, you can tell Conda where to locate the pycompwa package, so that the Python interpreter understand the <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pycompwa</span></code> command. You do this with:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda develop &lt;PATH_TO_pycompwa&gt;
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;PATH_TO_pycompwa&gt;</span></code> refers to the absolute or relative path of the cloned pycompwa repository.</p>
</div>
<div class="section" id="how-to-contribute-through-git">
<h2>How to contribute through Git<a class="headerlink" href="#how-to-contribute-through-git" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that most of the following instructions are general and independent of pycompwa, so they are also valid for ComPWA.</p>
</div>
<p>If you are new to git, maybe you should read some documentation first, such as the
<a class="reference external" href="https://git-scm.com/docs/user-manual.html">Git Manual</a>,
<a class="reference external" href="http://rogerdudler.github.com/git-guide/">Tutorial</a>, a
<a class="reference external" href="https://services.github.com/on-demand/downloads/github-git-cheat-sheet.pdf">CheatSheet</a>.
The <a class="reference external" href="https://git-scm.com/book/en/v2">Git Pro</a> book particularly serves as a great, free overview that is a nice read for both beginners and more experienced users.</p>
<p>For your convenience, here is the Git workflow you should use if you want to contribute:</p>
<ol class="arabic simple">
<li><p>Log into GitHub with your account and fork the ComPWA repository</p></li>
<li><p>Get a local copy of repository: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">git&#64;github.com:YOURACCOUNT/pycompwa.git</span></code> <br />
(this uses the SSH protocol, so you need to <a class="reference external" href="https://help.github.com/en/github/authenticating-to-github/managing-commit-signature-verification">set your SSH keys</a> first)</p></li>
<li><p>Add the main repository as a second remote called <code class="docutils literal notranslate"><span class="pre">upstream</span></code>: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">upstream</span> <span class="pre">git&#64;github.com:ComPWA/pycompwa.git</span></code></p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can name the repository with any name you wish: <code class="docutils literal notranslate"><span class="pre">upstream</span></code> is just a common label for the main repository.</p>
<p>Note that the remote from which you cloned the repository is named <code class="docutils literal notranslate"><span class="pre">origin</span></code> by default (here: your fork). A local <code class="docutils literal notranslate"><span class="pre">master</span></code> branch is automatically checked out from the origin after the clone. You can list all branches with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">-a</span></code>.</p>
</div>
<p>You repeat the following steps until your contribution is finished. Only then can your contributions be added main repository through a <a class="reference external" href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests">pull request</a> (PR).</p>
<ul class="simple">
<li><p>… edit some files …</p></li>
<li><p>Check changes: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> and/or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code></p></li>
<li><p>Stage updated files for commit: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">-u</span></code> or add new files <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">&lt;list</span> <span class="pre">of</span> <span class="pre">files&gt;</span></code></p></li>
<li><p>Commit changes: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> (opens up editor for commit message)</p></li>
<li><p>Enter a meaningful commit message. First line is a overall summary. Then, if necessary, skip one line and add a more detailed description form the third line on.</p></li>
<li><p>Synchronize with the changes from the main repository/upstream:</p>
<ul>
<li><p>Fetch new changes: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span> <span class="pre">upstream</span></code></p></li>
<li><p>Re-apply your current branch commits to the head of the <code class="docutils literal notranslate"><span class="pre">upstream</span></code> master branch: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">-i</span> <span class="pre">upstream/master</span></code></p></li>
<li><p>At this point, conflicts between your changes and those from the main <code class="docutils literal notranslate"><span class="pre">upstream</span></code> repository may occur. If no conflicts appeared, then you are finished and you can continue coding or push your work onto you fork. Otherwise repeat these steps until you’re done (you can abort the whole rebase process via <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">--abort</span></code>):</p>
<ul>
<li><p>Review the conflicts (<a class="reference external" href="https://code.visualstudio.com/">VS Code</a> is a great tool for this)</p></li>
<li><p>Mark them as resolved <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">&lt;filename&gt;</span></code></p></li>
<li><p>Continue the rebase <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">--continue</span></code></p></li>
</ul>
</li>
</ul>
</li>
<li><p>Push your changes to your fork: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">&lt;branchname&gt;</span></code> <br />
This step ‘synchronizes’ your local branch and the branch in your fork. It is not required after every commit, but it is certainly necessary once you are ready to merge your code into <code class="docutils literal notranslate"><span class="pre">upstream</span></code>.</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Remember to commit frequently instead of submitting a PR of just one commit. Making frequent snapshots (commits) of your work is safer workflow in general. Later on, rebasing can help you to group and alter commit messages, so don’t worry.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It can be useful to push your local branch to your fork under a different name using: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">&lt;local-branchname&gt;:&lt;remote-branchname&gt;</span></code></p>
</div>
<p>Once you think your contribution is finished and can be merged into the main repository:</p>
<ul class="simple">
<li><p>Make sure your the latest commits from the <code class="docutils literal notranslate"><span class="pre">upstream/master</span></code> are rebased onto your new branch and pushed to your fork</p></li>
<li><p>Log into GitHub with your account and create a PR. This is a request to merge the changes in your fork branch with the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch of the pycompwa or ComPWA repository.</p></li>
<li><p>While the PR is open, commits pushed to the fork branch behind your PR will immediately appear in the PR.</p></li>
</ul>
</div>
<div class="section" id="reporting-issues">
<span id="contribute-report-issues"></span><h2>Reporting Issues<a class="headerlink" href="#reporting-issues" title="Permalink to this headline">¶</a></h2>
<p>Use the <a class="reference external" href="https://github.com/ComPWA/pycompwa/issues">pycompwa github issues page</a> to:</p>
<ul class="simple">
<li><p>report problems/issues</p></li>
<li><p>file a feature request</p></li>
<li><p>request modifications to existing “unpleasant” code</p></li>
</ul>
<p>Please don’t hesitate to report any issues, but try make sure not to post duplicates.</p>
<p>We are also very glad if you want to take it into your own hands and contribute to (py)ComPWA!</p>
</div>
<div class="section" id="continuous-integration-ci">
<h2>Continuous Integration (CI)<a class="headerlink" href="#continuous-integration-ci" title="Permalink to this headline">¶</a></h2>
<p>The master branch is automatically build using TravisCI. Probably it is interesting to check out the <a class="reference external" href="https://travis-ci.com/ComPWA/pycompwa">log file</a> and the projects TravisCI configuration file <a class="reference external" href="https://github.com/ComPWA/pycompwa/blob/master/.travis.yml">travisCI.yml</a>.</p>
</div>
<div class="section" id="code-quality-conventions">
<h2>Code Quality &amp; Conventions<a class="headerlink" href="#code-quality-conventions" title="Permalink to this headline">¶</a></h2>
<p>A highly recommended read for learning how to write good code: <br />
<strong>Clean Code, by Robert C. Martin</strong></p>
<p>Try and follow his advice, and keep in mind the ‘boy scout rule’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Leave behind the code cleaner, then you found it&quot;</span>
</pre></div>
</div>
<p>For the python code we follow the <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">pep8 standard</a>. Available automatic source code highlighters and formatters are <cite>flake8</cite> and <cite>autopep8</cite>.</p>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>Generally try to code in such a way that it is self explanatory and its documentation is not necessary. Of course this ideal case is not achieved in reality, but avoid useless comments such as <code class="docutils literal notranslate"><span class="pre">getValue()</span> <span class="pre">#</span> <span class="pre">gets</span> <span class="pre">value</span></code>. Also try to comment only parts, which really need an explanation. Because keeping the documentation in sync with the code is crucial, and is a lot of work.</p>
<p>The documentation is built with sphinx using the “read the docs” theme. For the python code/modules <code class="docutils literal notranslate"><span class="pre">sphinx-apidoc</span></code> is used. The comment style is following the <code class="docutils literal notranslate"><span class="pre">pep8</span></code> conventions.</p>
<p>You can build the documentation locally as follows. In your Conda environment, navigate to the pycompwa repository, then do:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> doc
pip install -r requirements.txt
make html
</pre></div>
</div>
<p>Now, open the file <code class="docutils literal notranslate"><span class="pre">doc/source/_build/html/index.html</span></code>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="documents.html" class="btn btn-neutral float-right" title="Talks and Documents" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="faq.html" class="btn btn-neutral float-left" title="FAQ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ComPWA Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>